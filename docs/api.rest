# see: https://platform.openai.com/api-keys

# chat-01-test02-key
@api_key = {{$dotenv OPENAI_KEY}}

@model = gpt-4o-mini

@api_url = https://api.openai.com/v1/chat/completions

###
POST {{api_url}}
Authorization: Bearer {{api_key}}
Content-Type: application/json

{
  "model": "{{model}}",
  "messages": [
    {
      "role": "system",
      "content": [
        {
          "type": "text",
          "text": "Responde con un JSON con esta estructura de TypeScript. Los 'title' no pueden tener más de 50 palabras. Los 'options' no pueden tener más de 10 palabras.\n{\n  title: string // título del quiz\n  difficulty: 'easy' | 'normal' | 'hard'\n  questions: [\n    { title: string // texto de la pregunta\n      options: string[]\n      answer: string\n    }\n  ]\n}"
        }
      ]
    },
    {
      "role": "user",
      "content": [
        {
          "type": "text",
          "text": "creá un cuestionario sobre 'un tema a tu elección', con '4' preguntas, dificultad 'media'"
        }
      ]
    }
  ],
  "temperature": 1,
  "max_tokens": 1192,
  "top_p": 1,
  "frequency_penalty": 0,
  "presence_penalty": 0,
  "response_format": {
    "type": "text"
  }
}

###

###
POST {{api_url}}
Authorization: Bearer {{api_key}}
Content-Type: application/json

{
  "model": "{{model}}",
  "messages": [
    {
      "role": "system",
      "content": "Responde con un JSON con esta estructura de TypeScript. Los 'title' no pueden tener más de 50 palabras. Los 'options' no pueden tener más de 10 palabras.\n{\n  title: string // título del quiz\n  difficulty: 'easy' | 'normal' | 'hard'\n  questions: [\n    { title: string // texto de la pregunta\n      options: string[]\n      answer: string\n    }\n  ]\n}"
    },
    {
      "role": "user",
      "content": "creá un cuestionario sobre 'un tema a tu elección', con '4' preguntas, dificultad 'media'"
    }
  ],
  "stream": false,
  "temperature": 1,
  "max_tokens": 1192,
  "top_p": 1,
  "frequency_penalty": 0,
  "presence_penalty": 0,
  "response_format": {
    "type": "text"
  }
}

###
POST {{api_url}}
Authorization: Bearer {{api_key}}
Content-Type: application/json

{
  "model": "{{model}}",
  "messages": [
    {
      "role": "user",
      "content": "Las 3 mejores ciudades del mundo para visitar, solo la lista"
    }
  ],
  "stream": false,
  "temperature": 1,
  "max_tokens": 1192,
  "top_p": 1,
  "frequency_penalty": 0,
  "presence_penalty": 0,
  "response_format": {
    "type": "text"
  }
}

###
POST http://localhost:3000/api/generate
Content-Type: application/json

{
  "system": "retorná unicamente un json con el nombre, poblacion y superficie en km2 segun este esquema de typescript:\n[{ nombre: string, poblacion: number, superficie: number }\n]",
  "user": "Las 3 mejores ciudades de Argentina"
}

###
POST http://localhost:3000/api/generate
Content-Type: application/json

{
  "system": "retorná unicamente solo la lista con las 3 mejores ciudades de argentina",
  "user": "Las 3 mejores ciudades de Argentina para visitar, solo la lista"
}

###
POST http://localhost:3000/api/generate
Content-Type: application/json

{
  "user": "Las 3 mejores ciudades del mundo para visitar, solo la lista"
}